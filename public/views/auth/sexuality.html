<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Select Your Interest</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Font Awesome -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
/>

<style>
  /* Background */
  .pink-bg {
    background: url('../../img/bgimg.jpg') no-repeat center center/cover;
    font-family: "Poppins", sans-serif;
    min-height: 100vh;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
  .animate-float { animation: float 4s ease-in-out infinite; will-change: transform; }

  /* Gender Cards */
  .gender-option {
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 2.1px solid rgba(255, 255, 255, 0.4);
    background: rgba(255, 255, 255, 0.25);
    transition: all 0.3s ease;
    font-weight: 600;
    color: #2e2e2e;
  }
  .gender-option:hover {
    transform: scale(1.07);
    box-shadow: 0 0 20px rgba(255, 155, 180, 0.5);
  }

  .gender-option::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(to right, rgba(255,255,255,1) 0%, rgba(255,255,255,1) 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .gender-option.active::before { opacity: 1; }

  /* Buttons */
  /* Standard next button */
  .next-btn { width:96px; padding:6px; font-family:'Rufina',serif; font-size:14px; color:black; background:linear-gradient(135deg,#F78998 0%,#fa97a9 50%,#F78998 100%); position:relative; overflow:hidden; border-width:0.11rem; border-style:solid; border-top-color:#ffffffcc; border-bottom-color:#ffffffcc; border-left-color:#fa97a9; border-right-color:#fa97a9; border-radius:55px; box-shadow:0px 36.86px 13.98px rgba(255,106,106,0.02),0px 20.34px 12.71px rgba(255,106,106,0.08),0px 8.9px 8.9px rgba(255,106,106,0.13),0px 2.54px 5.08px rgba(255,106,106,0.15); cursor:pointer; transition:0.25s ease; }
  .next-btn::before { content:""; position:absolute; top:0; left:0; height:100%; width:100%; background:linear-gradient(90deg,rgba(255,255,255,0.35) 0%,rgba(255,255,255,0) 40%,rgba(255,255,255,0) 60%,rgba(255,255,255,0.35) 100%); pointer-events:none; border-radius:55px; }
  .next-btn:hover { transform:translateY(-2px) scale(1.02); }

  /* ‚úÖ Triangle layout only on phones */
@media (max-width: 640px) {
  /* Triangle layout on phones */
  #genderGroup {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    justify-items: center;
  }

  #genderGroup button:nth-child(3) {
    grid-column: 1 / span 2;
    justify-self: center;
  }
}

/* üì± Triangle layout on phones */
@media (max-width: 640px) {
  #genderGroup {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    justify-items: center;
  }

  /* Center the last button */
  #genderGroup button:nth-child(3) {
    grid-column: 1 / span 2;
    justify-self: center;
  }
}

/* üñ• Normal horizontal layout on larger screens */
@media (min-width: 641px) {
  #genderGroup {
    display: flex;
    flex-direction: row;
    justify-content: center;
    flex-wrap: wrap;
    gap: 2rem;
  }
}

</style>
  <style>
  /* Back button design (copied from Gender.html for exact parity) */
  .mbti-btn { position: relative; background: radial-gradient(circle at 30% 100%, rgba(255,255,255,0.55) 0%, rgba(255,255,255,0.25) 35%, rgba(255,182,193,0.18) 60%, rgba(255,160,180,0.1) 80%, rgba(255,150,170,0.05) 100%), rgba(255,192,203,0.25); border-radius: 1.2rem; color:#111; font-weight:500; transition: all 0.25s ease-in-out; overflow:hidden; z-index:1; box-shadow: inset 0 0 1px rgba(255,255,255,0.6), inset 0 -1px 3px rgba(255,255,255,0.4); }
  .mbti-btn::before { content:""; position:absolute; inset:0; border-radius:inherit; padding:1.4px; background:linear-gradient(150deg, rgba(255,255,255,0.9), rgba(255,190,210,0.65)); -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); -webkit-mask-composite:xor; mask-composite:exclude; z-index:-1; }
  .mbti-btn:hover { transform: scale(1.06); box-shadow: 0 0 18px rgba(255,180,200,0.85); }
  </style>
</head>

<body class="pink-bg flex items-center justify-center relative">

  <div class="relative text-center px-4 sm:px-6 md:px-10 lg:px-16 w-full max-w-6xl z-10">

    <!-- Back Button -->
    <div class=" text-left mt-4 sm:mt-6 md:mt-10 mb-6 sm:mb-8 md:mb-10">
      <a href="Gender.html"
        class="mbti-btn inline-flex items-center rounded-full font-medium w-[95px] sm:w-[105px] md:w-[115px] h-[40px] sm:h-[43px] md:h-[45px] px-4 sm:px-6 text-base sm:text-lg transition-all duration-200">
        <i class="fa-solid fa-arrow-left mr-2 text-lg sm:text-xl"></i>
        <span class="font-serif leading-none">Back</span>
      </a>
    </div>

    <!-- Main Card Wrapper -->
    <div class="bg-white/15 backdrop-blur-lg rounded-3xl p-8 sm:p-10 md:p-12 shadow-2xl border border-white/30 animate-float mx-auto w-full">
      <!-- Title -->
      <h1 class="title-font text-2xl sm:text-3xl md:text-4xl text-gray-800 mb-10 sm:mb-16 md:mb-20">Select Your Interest</h1>

      <!-- Gender Options -->
      <div id="genderGroup" class="flex flex-wrap justify-center items-center gap-6 sm:gap-8 md:gap-10 mb-12 sm:mb-16 md:mb-20">

        <!-- Male -->
        <button data-gender="male" class="gender-option flex flex-col items-center justify-center rounded-2xl w-[150px] sm:w-[190px] md:w-[210px] h-[130px] sm:h-[180px] md:h-[180px]">
          <i class="fa-solid fa-mars text-3xl sm:text-5xl md:text-6xl mb-3"></i>
          <span class="font-bold text-base sm:text-lg md:text-xl">Male</span>
        </button>

        <!-- Female -->
        <button data-gender="female" class="gender-option flex flex-col items-center justify-center rounded-2xl w-[150px] sm:w-[190px] md:w-[210px] h-[130px] sm:h-[180px] md:h-[180px]">
          <i class="fa-solid fa-venus text-3xl sm:text-5xl md:text-6xl mb-3"></i>
          <span class="font-bold text-base sm:text-lg md:text-xl">Female</span>
        </button>

        <!-- Both -->
        <button data-gender="other" class="gender-option flex flex-col items-center justify-center rounded-2xl w-[150px] sm:w-[190px] md:w-[210px] h-[130px] sm:h-[180px] md:h-[180px]">
          <i class="fa-solid fa-transgender-alt text-3xl sm:text-5xl md:text-6xl mb-3"></i>
          <span class="font-bold text-base sm:text-lg md:text-xl">Both</span>
        </button>
      </div>

      <!-- Next Button -->
      <div class="flex justify-center items-center mt-4 sm:mt-8 md:mt-10">
        <button id="nextButton" class="next-btn cursor-not-allowed opacity-80">Next</button>
      </div>
    </div>
  </div>

  <script>
  const genderButtons = document.querySelectorAll('.gender-option');
  const nextButton = document.getElementById('nextButton');
  let selectedGender = null;

  genderButtons.forEach(button => {
    button.addEventListener('click', () => {
      genderButtons.forEach(btn => {
        btn.classList.remove('active');
        btn.style.background = 'rgba(255,255,255,0.25)';
        btn.style.color = '#2e2e2e';
        btn.style.boxShadow = 'none';
      });

      selectedGender = button.getAttribute('data-gender');
      button.classList.add('active');
      button.style.background = '#fa627e';
      button.style.color = 'white';
      button.style.boxShadow = '0 0 25px rgba(250, 98, 126, 0.6)';

      nextButton.classList.remove('cursor-not-allowed','opacity-80');
      nextButton.classList.add('cursor-pointer');
    });
  });

  nextButton.addEventListener('click', (e) => {
    e.preventDefault();
    document.dispatchEvent(new Event('registration:submit'));
  });

  // Registration hooks
  window.prefillPage = function (prefill) {
    const val = prefill.sexuality ?? localStorage.getItem('sexuality');
    if (!val) return;
    genderButtons.forEach(btn => {
      const g = btn.getAttribute('data-gender');
      const mapped = g === 'other' ? 'both' : g;
      if (mapped === val) {
        btn.click();
      }
    });
  };

  window.collectPageData = function () {
    if (!selectedGender) {
      alert('‚ö†Ô∏è Please select your interest before continuing.');
      return null;
    }
    const sexualityValue = selectedGender === 'other' ? 'both' : selectedGender;
    localStorage.setItem('sexuality', sexualityValue);
    return { sexuality: sexualityValue };
  };

  </script>
  <script type="module" src="/js/registration.js"></script>

</body>
</html>
