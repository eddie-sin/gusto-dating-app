<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Number</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Rufina:wght@400;700&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
      }
      .animate-float { animation: float 4s ease-in-out infinite; will-change: transform; }
      .scrollbar-none::-webkit-scrollbar { display: none; }
      .scrollbar-none { -ms-overflow-style: none; scrollbar-width: none; }
      .font-rufina { font-family: 'Rufina', serif; }
      .font-inter { font-family: 'Inter', sans-serif; }

      .mbti-btn {
  position: relative;
  background: radial-gradient(
      circle at 30% 100%,
      rgba(255, 255, 255, 0.55) 0%,
      rgba(255, 255, 255, 0.25) 35%,
      rgba(255, 182, 193, 0.18) 60%,
      rgba(255, 160, 180, 0.1) 80%,
      rgba(255, 150, 170, 0.05) 100%
    ),
    rgba(255, 192, 203, 0.25);
  border-radius: 1.2rem;
  color: #111;
  font-weight: 500;
  transition: all 0.25s ease-in-out;
  overflow: hidden;
  z-index: 1;
  box-shadow: inset 0 0 1px rgba(255, 255, 255, 0.6),
              inset 0 -1px 3px rgba(255, 255, 255, 0.4);
}

/* Subtle glossy border */
.mbti-btn::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1.4px;
  background: linear-gradient(
    150deg,
    rgba(255, 255, 255, 0.9),
    rgba(255, 190, 210, 0.65)
  );
  -webkit-mask: linear-gradient(#fff 0 0) content-box,
                linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  z-index: -1;
}

/* Hover effect */
.mbti-btn:hover {
  transform: scale(1.06);
  box-shadow: 0 0 18px rgba(255, 180, 200, 0.85);
}
    </style>
  </head>

  <body
    class="flex flex-col items-center justify-center min-h-screen bg-cover bg-center bg-no-repeat relative overflow-hidden px-4 sm:px-6"
    style="background-image: url('/img/bgimg.jpg');"
  >

    <!-- Responsive Glassmorphism Card Wrapper -->
    <div class="relative w-[95%] sm:w-[85%] md:w-[75%] lg:w-[65%] xl:w-[55%] mt-24 sm:mt-28 md:mt-32">

      <!-- Back Button -->
<a href="sexuality.html"
   class="absolute -top-[110px] left-0 flex items-center justify-center mbti-btn
          w-[95px] sm:w-[105px] md:w-[115px] h-[40px] sm:h-[43px] md:h-[45px]
          px-4 sm:px-6 text-base sm:text-lg z-50"
>
    <i class="fa-solid fa-arrow-left mr-2 text-lg sm:text-xl"></i>
    <span class="font-serif leading-none"> Back</span>
</a>

      <!-- Glassmorphism Card -->
      <div
        class="relative bg-white/15 backdrop-blur-3xl rounded-2xl p-5 sm:p-8 md:p-10 
               shadow-2xl border border-white/25 animate-float 
               h-auto min-h-[420px] sm:min-h-[460px] md:min-h-[500px] 
               flex flex-col transition-all duration-500"
      >
        <h2 class="text-center text-2xl sm:text-3xl md:text-4xl font-bold mb-6 sm:mb-10 font-rufina">
          Contact Number
        </h2>

        <div class="flex flex-col sm:flex-row gap-4 sm:gap-6 items-start sm:items-center mb-8">
          <!-- Country Code Dropdown -->
          <div class="relative w-full sm:w-2/5">
            <label class="block text-black font-medium mb-1 ml-1 font-inter">Code</label>
            <button
              id="countryCodeBtn"
              class="w-full px-4 py-3 rounded-xl border-b-2 border-black/70 bg-transparent text-black text-base flex items-center justify-between transition-all duration-300 font-inter"
            >
              <span>+95</span>
              <i class="fas fa-chevron-down text-xs"></i>
            </button>

            <!-- Dropdown List -->
            <div
              id="countryCodeList"
              class="absolute left-0 top-full mt-2 hidden bg-pink-100/70 backdrop-blur-md rounded-xl w-full sm:w-[160%] z-50 shadow-2xl border border-pink-200 overflow-hidden"
            >
              <div class="p-3 border-b border-pink-200">
                <input
                  id="searchInput"
                  type="text"
                  placeholder="Search"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-pink-400 focus:outline-none bg-white/30 placeholder-gray-600 font-inter"
                />
              </div>
              <div id="countriesContainer" class="max-h-48 overflow-y-auto scrollbar-none text-sm font-inter"></div>
            </div>
          </div>

          <!-- Phone Input -->
          <div class="w-full sm:w-3/5">
            <label class="block text-black font-medium mb-1 ml-1 font-inter">Phone</label>
            <input
              id="phoneInput"
              type="text"
              placeholder="********"
              class="w-full px-4 py-3 rounded-xl border-b-2 border-black/70 bg-transparent text-black placeholder-gray-500 focus:outline-none font-inter"
            />
          </div>
        </div>

        <!-- Next Button -->
        <div class="flex justify-end mt-auto">
          <button
            id="nextBtn"
            style="margin-bottom: 4px; margin-right: 8px;"
            class="bg-gradient-to-t from-rose-500 to-pink-400 text-white px-6 sm:px-10 md:px-12 py-3 rounded-full text-base sm:text-lg font-medium shadow-md hover:shadow-lg hover:scale-105 transition-all duration-300 border border-white/50 font-inter"
          >
            Next
          </button>
        </div>
      </div>
    </div>

    <script>
      const countryCodeBtn = document.getElementById("countryCodeBtn");
      const countryCodeList = document.getElementById("countryCodeList");
      const countriesContainer = document.getElementById("countriesContainer");
      const searchInput = document.getElementById("searchInput");
      const phoneInput = document.getElementById("phoneInput");

      phoneInput.addEventListener("input", () => {
        const value = phoneInput.value;
        if (/[^0-9]/.test(value)) {
          alert("Only numbers 0-9 are allowed!");
          phoneInput.value = value.replace(/[^0-9]/g, "");
        }
      });

      const countries = [
        { name: "Myanmar(Burma)", code: "+95" },
        { name: "United Kingdom", code: "+44" },
        { name: "United States", code: "+1" },
        { name: "Japan", code: "+81" },
        { name: "Albania", code: "+335" },
        { name: "Andorra", code: "+376" },
        { name: "Antarctica", code: "+672" },
      ];

      let isDropdownOpen = false;

      function renderCountries(list) {
        countriesContainer.innerHTML = "";
        list.forEach((c) => {
          const div = document.createElement("div");
          div.className =
            "flex justify-between items-center px-4 py-2 hover:bg-pink-500 cursor-pointer transition-all duration-300 text-black rounded-lg font-inter";
          div.innerHTML = `<span>${c.name}</span><span class="text-gray-700">${c.code}</span>`;
          div.addEventListener("click", (e) => {
            e.stopPropagation();
            countryCodeBtn.querySelector("span").textContent = c.code;
            closeDropdown();
          });
          countriesContainer.appendChild(div);
        });
      }

      function openDropdown() {
        countryCodeList.classList.remove("hidden");
        isDropdownOpen = true;
        setTimeout(() => searchInput.focus(), 100);
      }

      function closeDropdown() {
        countryCodeList.classList.add("hidden");
        isDropdownOpen = false;
        searchInput.value = "";
        renderCountries(countries);
      }

      function toggleDropdown() {
        isDropdownOpen ? closeDropdown() : openDropdown();
      }

      renderCountries(countries);

      countryCodeBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        toggleDropdown();
      });

      searchInput.addEventListener("input", () => {
        const term = searchInput.value.toLowerCase();
        const filtered = countries.filter(
          (c) =>
            c.name.toLowerCase().includes(term) || c.code.includes(term)
        );
        renderCountries(filtered);
      });

      document.addEventListener("click", (e) => {
        if (
          isDropdownOpen &&
          !countryCodeList.contains(e.target) &&
          !countryCodeBtn.contains(e.target)
        )
          closeDropdown();
      });

      // Next button handler
      document.getElementById("nextBtn").addEventListener("click", () => {
        const code = countryCodeBtn.querySelector("span").textContent;
        const phone = phoneInput.value.trim();

        if (!phone) {
          alert("⚠️ Please enter your phone number.");
          return;
        }

        if (phone.length < 7 || phone.length > 15) {
          alert("⚠️ Phone number must be between 7 and 15 digits.");
          return;
        }

        const contact = code + phone;
        localStorage.setItem('contact', contact);
        window.location.href = 'index.html';
      });
    </script>
  </body>
</html>
